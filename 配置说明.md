# 🔐 环境变量配置说明

## ⚠️ 重要安全提示

你提供的API密钥和Token是敏感信息，请妥善保管：
- ✅ 只在Vercel环境变量中配置
- ✅ 不要提交到GitHub公开仓库
- ✅ 不要分享给他人

## 📋 需要配置的环境变量

### 1. 企业微信配置
```env
WECHAT_TOKEN=your_wechat_token_here
WECHAT_ENCODING_AES_KEY=your_encoding_aes_key_here
```

### 2. DeepSeek API配置
```env
DEEPSEEK_API_KEY=your_deepseek_api_key_here
```

### 3. GitHub配置（需要你创建仓库后填写）
```env
GITHUB_REPO=WilliamLeng/knowledge-base
GITHUB_TOKEN=你的GitHub_Token（需要生成）
```

**如何获取GitHub Token：**
1. 访问：https://github.com/settings/tokens
2. 点击"Generate new token (classic)"
3. 勾选`repo`权限
4. 生成并复制Token

### 4. 知识库配置
```env
KNOWLEDGE_BASE_TYPE=rag
PDF_PROCESSING_ENABLED=true
```

## 🚀 在Vercel中配置

### 步骤：
1. 登录Vercel：https://vercel.com
2. 进入项目（或创建新项目）
3. 点击 **Settings** → **Environment Variables**
4. 逐个添加上述环境变量
5. 选择环境：**Production**（生产环境）
6. 保存

### 完整环境变量列表：
```
WECHAT_TOKEN=your_wechat_token_here
WECHAT_ENCODING_AES_KEY=your_encoding_aes_key_here
DEEPSEEK_API_KEY=your_deepseek_api_key_here
GITHUB_REPO=your_username/knowledge-base
GITHUB_TOKEN=your_github_token_here
KNOWLEDGE_BASE_TYPE=rag
PDF_PROCESSING_ENABLED=true
```

## 📝 本地开发配置（可选）

如果你想在本地测试，创建`.env`文件：

```bash
# 在项目根目录创建.env文件
cp env-example.txt .env
# 然后编辑.env文件，填入你的配置
```

**注意**：`.env`文件已经在`.gitignore`中，不会被提交到Git。

## ✅ 配置检查清单

- [ ] 创建了GitHub知识库仓库
- [ ] 生成了GitHub Token
- [ ] 在Vercel中配置了所有环境变量
- [ ] 企微机器人配置了回调URL
- [ ] 测试了管理页面访问

## 🆘 常见问题

### Q: GitHub Token在哪里生成？
A: https://github.com/settings/tokens

### Q: 环境变量配置后需要重新部署吗？
A: 是的，配置环境变量后需要重新部署项目。

### Q: 如何验证配置是否正确？
A: 访问管理页面 `/admin`，如果能正常显示，说明配置正确。
